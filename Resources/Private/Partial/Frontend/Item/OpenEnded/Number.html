<html
	xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	data-namespace-typo3-fluid="true"
>

<div class="type-13{f:if(condition: item.styleclass, then: ' {item.styleclass}')}">
	<f:render section="label" arguments="{_all}" />
	<f:render partial="questionSubtext" arguments="{questionSubtext: item.questionSubtext}" />

	<div id="error-container-{item.uid}"></div>
	<input
		type="text"
		name="pbsurvey_{configuration.uid}[{item.uid}][v]"
		id="pbsurvey-{configuration.uid}-{item.uid}"
		value=""
		data-parsley-type="number"
		data-parsley-type-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number'})}"
		data-parsley-errors-container="#error-container-{item.uid}"
		{f:render(section: 'optionsRequired', arguments: '{_all}')}
	/>
</div>

<f:section name="label">
	<label for="pbsurvey-{configuration.uid}-{item.uid}">
		{item.question}
		<f:if condition="{item.optionsRequired}">
			<em>
				<f:render partial="translate" arguments="{key: 'item.label.optionsRequired'}" />
			</em>
		</f:if>
		<f:if condition="{item.valueMinimum}">
			<f:then>
				<em>
					<f:if condition="{item.valueMaximum}">
						<f:then>
							<f:render partial="translate" arguments="{key: 'item.label.number.both', printf: '{0: item.valueMinimum, 1: item.valueMaximum}'}" />
						</f:then>
						<f:else>
							<f:render partial="translate" arguments="{key: 'item.label.number.minimum', printf: '{0: item.valueMinimum}'}" />
						</f:else>
					</f:if>
				</em>
			</f:then>
			<f:else>
				<em>
					<f:if condition="{item.valueMaximum}">
						<f:render partial="translate" arguments="{key: 'item.label.number.maximum', printf: '{0: item.valueMaximum}'}" />
					</f:if>
				</em>
			</f:else>
		</f:if>
	</label>
</f:section>

<f:section name="optionsRequired">
	<f:if condition="{item.optionsRequired}">
		required
		data-parsley-required-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number.optionsRequired'})}"
	</f:if>
	<f:if condition="{item.valueMinimum}">
		<f:then>
			<f:if condition="{item.valueMaximum}">
				<f:then>
					data-parsley-range="[{item.valueMinimum}, {item.valueMaximum}]"
					data-parsley-range-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number.both', printf: '{0: item.valueMinimum, 1: item.valueMaximum}'})}"
				</f:then>
				<f:else>
					data-parsley-min="{item.valueMinimum}"
					data-parsley-min-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number.minimum', printf: '{0: item.valueMinimum}'})}"
				</f:else>
			</f:if>
		</f:then>
		<f:else>
			<f:if condition="{item.valueMaximum}">
				data-parsley-max="{item.valueMaximum}"
				data-parsley-max-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number.maximum', printf: '{0: item.valueMaximum}'})}"
			</f:if>
		</f:else>
	</f:if>
	<f:if condition="{item.lengthMaximum}">
		maxlength="{item.lengthMaximum}"
		data-parsley-maxlength-message="{f:render(partial: 'translate', arguments: {key: 'item.error.number.length', printf: '{0: item.lengthMaximum}'})}"
	</f:if>
</f:section>

</html>